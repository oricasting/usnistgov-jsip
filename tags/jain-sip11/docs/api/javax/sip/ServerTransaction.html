<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Mon Jun 30 11:47:28 EDT 2003 -->
<TITLE>
ServerTransaction (JAIN-SIP 1.1 RI For the People!)
</TITLE>
<META NAME="keywords" CONTENT="javax.sip.ServerTransaction,ServerTransaction interface">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="ServerTransaction (JAIN-SIP 1.1 RI For the People!)";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ServerTransaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b> NIST SIP Parser and Stack (v1.2) API </b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/sip/ListeningPoint.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/sip/SipListener.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServerTransaction.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.sip</FONT>
<BR>
Interface ServerTransaction</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="http://java.sun.com/products/j2se/1.4/docs/api/java/io/Serializable.html">Serializable</A>, <A HREF="../../javax/sip/Transaction.html">Transaction</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../gov/nist/javax/sip/stack/SIPServerTransaction.html">SIPServerTransaction</A></DD>
</DL>
<HR>
<DL>
<DT>public interface <B>ServerTransaction</B><DT>extends <A HREF="../../javax/sip/Transaction.html">Transaction</A></DL>

<P>
A server transaction is used by a SipProvider to handle incoming Request 
 messages to fire Request events to the SipListener on a specific server 
 transaction and by a User Agent Server application to send Response 
 messages to a User Agent Client application. This interfaces enables an 
 application to send a <A HREF="../../javax/sip/message/Response.html"><CODE>Response</CODE></A> to a recently 
 received Request statefully.
 <p>
 A new server transaction is generated in the following ways:
 <ul>
 <li> By the application by invoking the 
 <A HREF="../../javax/sip/SipProvider.html#getNewServerTransaction(javax.sip.message.Request)"><CODE>SipProvider.getNewServerTransaction(Request)</CODE></A> for Dialog-Creating 
 Requests that the application wishes to handle.
 <li> By the SipProvider by automatically populating the server transaction 
 of a RequestEvent for Incoming Requests in an existing Dialog handled by 
 the application.
 </ul>
 A server transaction of the transaction layer is represented by a finite 
 state machine that is constructed to process a particular request under 
 the covers of a stateful SipProvider. The transaction layer handles 
 application-layer retransmissions, matching of responses to requests, and 
 application-layer timeouts. 
 <p>
 The server transaction must be unique within the underlying 
 implementation. A common way to create this value is to compute a
 cryptographic hash of the To tag, From tag, Call-ID header field, the 
 Request-URI of the request received (before translation), the topmost Via 
 header, and the sequence number from the CSeq header field, in addition to 
 any Proxy-Require and Proxy-Authorization header fields that may be present.  
 The algorithm used to compute the hash is implementation-dependent.
 <p>
 For the detailed server transaction state machines refer to Chapter 
 17 of <a href="http://www.ietf.org/rfc/rfc3261.txt">RFC 3261</a>, the 
 allowable transitions are summarized below:
 <p>
 <b>Invite Transaction:</b><br>
 Proceeding --> Completed --> Confirmed --> Terminated
 <p>
 <b>Non-Invite Transaction:</b><br>
 Trying --> Proceeding --> Completed --> Terminated
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>v1.1</DD>
<DT><B>Author:</B></DT>
  <DD>Sun Microsystems</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/sip/ServerTransaction.html#sendResponse(javax.sip.message.Response)">sendResponse</A></B>(<A HREF="../../javax/sip/message/Response.html">Response</A>&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends the Response to a Request which is identified by this 
 ServerTransaction. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.sip.Transaction"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface javax.sip.<A HREF="../../javax/sip/Transaction.html">Transaction</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../javax/sip/Transaction.html#getBranchId()">getBranchId</A>, <A HREF="../../javax/sip/Transaction.html#getDialog()">getDialog</A>, <A HREF="../../javax/sip/Transaction.html#getRequest()">getRequest</A>, <A HREF="../../javax/sip/Transaction.html#getRetransmitTimer()">getRetransmitTimer</A>, <A HREF="../../javax/sip/Transaction.html#getState()">getState</A>, <A HREF="../../javax/sip/Transaction.html#setRetransmitTimer(int)">setRetransmitTimer</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="sendResponse(javax.sip.message.Response)"><!-- --></A><H3>
sendResponse</H3>
<PRE>
public void <B>sendResponse</B>(<A HREF="../../javax/sip/message/Response.html">Response</A>&nbsp;response)
                  throws <A HREF="../../javax/sip/SipException.html">SipException</A></PRE>
<DL>
<DD>Sends the Response to a Request which is identified by this 
 ServerTransaction. When an application wishes to send a Response, it 
 creates a Response from the <A HREF="../../javax/sip/message/MessageFactory.html"><CODE>MessageFactory</CODE></A> and 
 then passes that Response to this method. The Response message gets sent out on 
 the network via the ListeningPoint information that is associated to 
 the SipProvider of this ServerTransaction.
 <p>
 This method implies that the application is functioning as either a UAS 
 or a stateful proxy, hence the underlying implementation acts statefully.
 When a UAS sends a 2xx response to an INVITE, the server transaction is 
 destroyed, by the underlying implementation. This means that 
 when the ACK sent by the corresponding UAC arrives at the UAS, there will 
 be no matching server transaction for the ACK, and based on this rule, 
 the ACK is passed to the UAS application, where it is processed. This 
 ensures that the three way handsake of an INVITE is managed by the UAS 
 application and not the implementation. However when the 
 <A HREF="../../javax/sip/SipStack.html#isRetransmissionFilterActive()"><CODE>SipStack.isRetransmissionFilterActive()</CODE></A> is turned ON for User Agent's 
 the implementation will take care of this behaviour for the application and 
 notify the application of an error with a <A HREF="../../javax/sip/Timeout.html#TRANSACTION"><CODE>Timeout.TRANSACTION</CODE></A> 
 Event.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>response</CODE> - the Response to send to the Request.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javax/sip/SipException.html">SipException</A></CODE> - if the SipProvider cannot send the Response for any
 other reason.<DT><B>See Also:</B><DD><A HREF="../../javax/sip/message/Response.html"><CODE>Response</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ServerTransaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b> NIST SIP Parser and Stack (v1.2) API </b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/sip/ListeningPoint.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/sip/SipListener.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServerTransaction.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<font size="-1"> <a href="http://www-x.antd.nist.gov/"> A product of the NIST/ITL Advanced Networking Technologies Division. </a><br> <a href="../../uncopyright.html"> See conditions of use. </a> <br> <a href="http://www-x.antd.nist.gov/proj/iptel/nist-sip-requestform/nist-sip-1.2-requestform.htm"> Get the latest distribution. </a><br> <a href="mailto:nist-sip-dev@antd.nist.gov">Submit a bug report or feature request. </a><br> </font>
</BODY>
</HTML>
